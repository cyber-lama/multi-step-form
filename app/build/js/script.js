"use strict";$(document).ready(function(){$.fn.setCursorPosition=function(t){if($(this).get(0).setSelectionRange)$(this).get(0).setSelectionRange(t,t);else if($(this).get(0).createTextRange){var e=$(this).get(0).createTextRange();e.collapse(!0),e.moveEnd("character",t),e.moveStart("character",t),e.select()}},$("#af_phone").click(function(){$(this).setCursorPosition(3)}).mask("+7 (999) 999-99-99"),document.addEventListener("click",function(t){if(t.target.classList.contains("js-ripple")){var e,i=t.target,n=i.querySelector(".ink");n?e=n.clientWidth:((n=document.createElement("i")).classList.add("ink"),e=Math.max(i.clientWidth,i.clientHeight),n.style.width=e+"px",n.style.height=e+"px",["animationend","webkitAnimationEnd","oAnimationEnd","MSAnimationEnd"].forEach(function(t){n.addEventListener(t,function(){n.parentNode.removeChild(n)})}),i.insertBefore(n,i.firstChild)),n.style.top=t.offsetY-e/2+"px",n.style.left=t.offsetX-e/2+"px",n.classList.remove("is-animating"),n.width=n.clientWidth+"px",n.classList.add("is-animating")}})}),$(document).ready(function(){({init:function(){this.cacheDom(),this.bindEventsNext(),this.giveFirstTabActive(),this.createDivAfterInput(),this.buttonsNavActive()},cacheDom:function(){this.$el=$("#form"),this.$buttonSend=this.$el.find("#send"),this.$buttonNext=this.$el.find("#next"),this.$buttonPrev=this.$el.find("#prev"),this.$tab=this.$el.find("fieldset.tab")},bindEventsNext:function(){this.$buttonNext.on("click",this.validateInput.bind(this)),this.$buttonPrev.on("click",this.changeClassElement.bind(this))},numberActiveTab:function(){for(var t=0;t<=this.$tab.length-1;t++)if(this.$tab[t].classList.contains("active"))return t},changeClassElement:function(t){var e=this.$tab.length-1,i=t,n=this.numberActiveTab();if("next"===i.target.getAttribute("id")&&n<e)var s=n+1;else{if(!("prev"===i.target.getAttribute("id")&&1<=n))return!1;s=n-1}this.$tab[n].classList.remove("active"),this.$tab[s].classList.add("active");var a=this.numberActiveTab();this.buttonSendActive(),this.buttonsNavActive(a)},validateInput:function(t){for(var s=this,e=this.numberActiveTab(),a=this.$tab[e].querySelectorAll("input[data-validate]"),c=(this.$el.find("input[data-validate]"),[]),i=t,n=function(t){var e=a[t],i=$(e).val();function n(t,e){var i=t.closest("div").lastChild;i.classList.add("active"),i.innerHTML=e,setTimeout(function(){i.classList.remove("active")},4e3)}if("name"===e.getAttribute("name"))!function(t){if(i.length<2){n(t,"Длинна введенных данных меньше допустимого значения")}else{if(!(2<i.length)||isNaN(i))return 1;n(t,"Введите буквенные символы")}}(e)&&c.push("Ошибка в блоке:",e);else if("number"===e.getAttribute("name"))!function(t){if(!(i.length<1))return 1;n(t,"Введите цифры длинной не менее 10 символов")}(e)&&c.push("Ошибка в блоке:",e);else if("email"===e.getAttribute("name"))!function(t){if(0!=/^([A-Za-z0-9_\-\.])+\@([A-Za-z0-9_\-\.])+\.([A-Za-z]{2,4})$/.test(i))return 1;n(t,"Введите корректный e-mail")}(e)&&c.push("Ошибка в блоке:",e);else if(!i){n(e,"Заполните поле"),c.push("Ошибка в блоке:",s)}},l=0;l<a.length;l++)n(l);this.changeClassElement(i)},createDivAfterInput:function(){var t=this.$el.find("input[data-validate]");if(t)for(var e=t.closest("div"),i=0;i<e.length;i++){var n=document.createElement("div");n.innerHTML="",e[i].appendChild(n)}},giveFirstTabActive:function(){this.$tab[0].classList.add("active")},buttonSendActive:function(){var t=this.numberActiveTab(),e=this.$tab.length-1;this.$buttonSend[0].style.display=t===e?"inline-block":"none"},buttonsNavActive:function(t){console.log(t);t<this.$tab.length-1?this.$buttonNext[0].classList.add("js-ripple"):this.$buttonNext[0].classList.toggle("js-ripple"),0<t?(console.log("Наша переменная больше нуля:"+t),this.$buttonPrev[0].classList.add("js-ripple")):0<t&&this.$buttonPrev[0].classList.toggle("js-ripple")},consoleClick:function(t){console.log(t)}}).init()});