"use strict";$(document).ready(function(){$.fn.setCursorPosition=function(t){if($(this).get(0).setSelectionRange)$(this).get(0).setSelectionRange(t,t);else if($(this).get(0).createTextRange){var e=$(this).get(0).createTextRange();e.collapse(!0),e.moveEnd("character",t),e.moveStart("character",t),e.select()}},$("#af_phone").click(function(){$(this).setCursorPosition(3)}).mask("+7 (999) 999-99-99")}),$(document).ready(function(){({init:function(){this.cacheDom(),this.bindEventsNext(),this.giveFirstTabActive(),this.createDivAfterInput()},cacheDom:function(){this.$el=$("#form"),this.$buttonSend=this.$el.find("#send"),this.$buttonNext=this.$el.find("#next"),this.$buttonPrev=this.$el.find("#prev"),this.$tab=this.$el.find("fieldset.tab")},bindEventsNext:function(){this.$buttonNext.on("click",this.validateInput.bind(this)),this.$buttonPrev.on("click",this.changeClassElement.bind(this))},numberActiveTab:function(){for(var t=0;t<=this.$tab.length-1;t++)if(this.$tab[t].classList.contains("active"))return t},changeClassElement:function(t){console.log(t);var e=this.$tab.length-1,i=t,n=this.numberActiveTab();if("next"===i.target.getAttribute("id")&&n<e)var s=n+1;else{if(!("prev"===i.target.getAttribute("id")&&1<=n))return!1;s=n-1}this.$tab[n].classList.remove("active"),this.$tab[s].classList.add("active")},validateInput:function(t){for(var e,i,n,s,a,c=this,l=this.numberActiveTab(),o=this.$tab[l].querySelectorAll("input[data-validate]"),h=(this.$el.find("input[data-validate]"),[]),r=t,d=0;d<o.length;d++)s=n=i=e=void 0,s=o[d],a=$(s).val(),"name"===s.getAttribute("name")?(n=s.closest("div").lastChild,(a.length<2?(n.classList.add("active"),void(n.innerHTML="Длинна введенных данных меньше допустимого значения")):!(2<a.length)||isNaN(a)||void(n.innerHTML="Введите буквенные символы"))||h.push("Ошибка в блоке:",s)):"number"===s.getAttribute("name")?(i=s.closest("div").lastChild,a.length<1&&(i.classList.add("active"),!void(i.innerHTML="Введите цифры длинной не менее 10 символов"))&&h.push("Ошибка в блоке:",s)):"email"===s.getAttribute("name")?(e=s.closest("div").lastChild,0!=/^([A-Za-z0-9_\-\.])+\@([A-Za-z0-9_\-\.])+\.([A-Za-z]{2,4})$/.test(a)||(e.classList.add("active"),void(e.innerHTML="Введите корректный e-mail"))||h.push("Ошибка в блоке:",s)):a||(console.log("Заполните поле"),h.push("Ошибка в блоке:",c));console.log(h),h.length<1&&this.changeClassElement(r)},createDivAfterInput:function(){var t=this.$el.find("input[data-validate]");if(t)for(var e=t.closest("div"),i=0;i<e.length;i++){var n=document.createElement("div");n.innerHTML="",e[i].appendChild(n)}},giveFirstTabActive:function(){this.$tab[0].classList.add("active")},consoleClick:function(t){console.log(t)}}).init()});